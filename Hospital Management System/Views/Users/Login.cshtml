@model Hospital_Management_System.Models.Registration

@{
    ViewBag.Title = "Login";
}



@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()


<div class="form-horizontal" style="margin-left:33%;margin-top:10%;margin-right:30%">
    <h1 style="font-size:3vh;text-align:center;margin-left:-15%;">Please Sign In</h1>

    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    <div class="form-group" style="margin-left: 10%;">
        @* @Html.LabelFor(model => model.UserName, "User Name", htmlAttributes: new { @class = "control-label col-md-2" })*@
        <div class="col-md-10">
            @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", @placeholder = "Username", @id = "username" } })
            @* @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })*@
            <small style="position:absolute">@Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger", @id = "usernamevalidation" })</small>

        </div>
    </div>

    <div class="form-group" style="margin-left: 10%;">
        @* @Html.LabelFor(model => model.Password, htmlAttributes: new { @class = "control-label col-md-2" })*@
        <div class="col-md-10">
            @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control", @type = "password", @placeholder = "Password" } })
            @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group" style="margin-left: 14%;">
        <div class=" col-md-10">
            <input type="submit" onclick="log()" value="Sign In" class="btn btn-primary" style="width:100%; margin-left:-6%" />
        </div>
    </div>
    <a onclick="location.href='@Url.Action("ForgotPassword", "Users")'" style="margin-left:48%;">Forgotten password?</a>
</div>
}

@*<div>
        @Html.ActionLink("Back to List", "Index")
  </div>*@

@{

    if (TempData["LoginFail"] != null)
    {
    <script>
      
            toastr.options = {
                "closeButton": false,
                "newestOnTop": false,
                "positionClass": "toast-bottom-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "100",
                "hideDuration": "500",
                "timeOut": "1500",
                "extendedTimeOut": "500",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }
        toastr["error"]('@TempData["LoginFail"]')        
    </script>
    }
}

<script>
    function log() {
        if ($("#username").val() = "") {
            $("#usernamevalidation").html("Cannot contain spaces, numbers or special characters");
        }
        else {
            $("#usernamevalidation").html("");
        }
    }

    function preventBack() { window.history.forward(); }
    setTimeout("preventBack()", 0);
    window.onunload = function () { null };

</script>

<style>
    a:hover
    {
       cursor:pointer;
    }
</style>